{% extends "layout.html" %}

{% block content %}
{% for article in articlesList %}
<div class="block">
    <div class="block-title">
        <a href="/article/{{ article.id }}">{{ article.title }}</a>
    </div>
    <div class="block-content">
        {{ handler.description(handler.md_to_html(article.content)) }}
    </div>
    <div class="block-footer">
        <div id="date">Post on {{ article.datetime }}<a href="/article/{{ article.id }}" style="float:right;">Read More</a></div>
    </div>
</div>
{% end %}

{% if count > post_per_page %}
<div class="block-page">
    <ul class="pager">
        {% if page_number-1 > 0 %}
            <li class="previous"><a href="/page/{{ page_number-1 }}">&larr; Newer</a></li>
        {% end %}
        <li><span>Page {{ page_number }} of {{ max_page }}</span></li>
        {% if post_per_page*page_number < count %}
            <li class="next"><a href="/page/{{ page_number+1 }}">Older &rarr;</a></li>
        {% end %}
    </ul>
</div>
{% end %}
{% end %}